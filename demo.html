<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Generator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script>
        var result;
        function colorChange(value, colorName) {
            var red_range = document.getElementById("red-range").value;
            var green_range = document.getElementById("green-range").value;
            var blue_range = document.getElementById("blue-range").value;
            document.getElementById(colorName).innerHTML = value;
            document.getElementById("colorBox").style.backgroundColor = `rgb(${red_range},${green_range},${blue_range})`

            result = `rgb(${red_range},${green_range},${blue_range})`
            document.getElementById("result").innerHTML = result;
        }

        function handleTypeChange(value) {
            var rgbContainer = document.getElementById("rgbContainer");
            var hexaContainer = document.getElementById("hexaContainer");
            var cmykContainer = document.getElementById("cmykContainer");

            if (value == "RGB") {
                rgbContainer.className = "d-block";
                hexaContainer.className = "d-none";
                cmykContainer.className = "d-none";
            } else if (value == "Hexa") {
                hexaContainer.className = "d-block";
                rgbContainer.className = "d-none";
                cmykContainer.className = "d-none";
            } else if (value == "CMYK") {
                cmykContainer.className = "d-block";
                rgbContainer.className = "d-none";
                hexaContainer.className = "d-none";
            }
        }

        function bodyLoad() {
            var selectValue = document.querySelector("select").value;
            handleTypeChange(selectValue);
        }

        function handleHexa() {
            var inputText = document.querySelector("input[type='text']").value;
            document.getElementById("result").innerHTML = result;
            if (inputText.startsWith("#")) {
                if (inputText.length < 7) {
                    document.getElementById("errInput").innerHTML = "Hex code too short. It should be at least 7 characters (e.g., #FFFFFF)";
                    result = `${inputText}`;
                } else {
                    result = `${inputText}`;
                    document.getElementById("colorBox").style.backgroundColor = `${result}`;
                    document.getElementById("errInput").innerHTML = "";
                }
            } else {
                document.getElementById("errInput").innerHTML = "Hex color code must start with '#' (e.g., #FFFFFF)";
                result = `${inputText}`;
            }
        }

        function handelCMYK(value, colorName) {
            document.getElementById(colorName).innerHTML = value;
            var c = document.getElementById("cyan_range").value ;
            var m = document.getElementById("megenta_range").value ;
            var y = document.getElementById("yellow_range").value ;
            var k = document.getElementById("black_range").value ;
            var opacity = document.getElementById("opacity_range").value;

            var r = Math.round(255 * (1 - c) * (1 - k));
            var g = Math.round(255 * (1 - m) * (1 - k));
            var b = Math.round(255 * (1 - y) * (1 - k));
            document.getElementById("colorBox").style.backgroundColor = `rgba(${r}, ${g}, ${b}, ${opacity})`;

            result = `rgba(${r}, ${g}, ${b}, ${opacity})`;
            document.getElementById("result").innerHTML = result;
        }

        function handleCopy() {
            navigator.clipboard.writeText(result);
            alert("Copied To Clipboard: " + result);
        }
    </script>
</head>

<body onload="bodyLoad()" class="d-flex justify-content-center align-items-center bg-warning" style="height: 100vh;">
    <div class="bg-white p-5 rounded w-50">
        <h4>Color Generator using HTML CSS JS</h4>
        <div>
            <div id="colorBox" class="border rounded w-75 mx-auto" style="height: 200px;"></div>
        </div>
        <div class="d-flex align-items-center gap-2 mt-3">
            <span class="fw-semibold">Type:</span>
            <select onchange="handleTypeChange(this.value)" class="form-select bg-secondary text-white">
                <option>RGB</option>
                <option>CMYK</option>
                <option>Hexa</option>
            </select>
        </div>

        <div id="rgbContainer" class="d-none">
            <div class="px-2 py-3 rounded my-4" style="background-color: rgba(128, 128, 128, 0.842);">
                <div class="d-flex gap-2 align-items-center">
                    <span>Red</span>
                    <input type="range" class="form-range" id="red-range" oninput="colorChange(this.value, 'red')"
                        value="0" min="0" max="255">
                    <span id="red">0</span>
                </div>
                <div class="d-flex gap-2 align-items-center">
                    <span>Green</span>
                    <input type="range" class="form-range" id="green-range" oninput="colorChange(this.value, 'green')"
                        value="0" min="0" max="255">
                    <span id="green">0</span>
                </div>
                <div class="d-flex gap-2 align-items-center">
                    <span>Blue</span>
                    <input type="range" class="form-range" id="blue-range" oninput="colorChange(this.value, 'blue')"
                        value="0" min="0" max="255">
                    <span id="blue">0</span>
                </div>
            </div>
        </div>

        <div id="hexaContainer" class="d-none">
            <div class="px-4 py-3 rounded my-4" style="background-color: rgba(128, 128, 128, 0.842);">
                <span class="fw-semibold">Enter Hex Color</span>
                <input type="text" onkeyup="handleHexa()" class="form-control" placeholder="Enter Like #ff00aa"
                    maxlength="7">
                <span id="errInput" class="text-danger fw-semibold"></span>
            </div>
        </div>

        <div id="cmykContainer" class="d-none">
            <div class="px-4 py-3 rounded my-4" style="background-color: rgba(128, 128, 128, 0.842);">
                <div class="d-flex align-items-center gap-2">
                    <span class="fw-medium">Cyan</span>
                    <input type="range" class="form-range" min="0" max="255" value="0" id="cyan_range"
                        oninput="handelCMYK(this.value,'cyan')">
                    <span id="cyan">0</span>
                </div>
                <div class="d-flex align-items-center gap-2">
                    <span class="fw-medium">Megenta</span>
                    <input type="range" class="form-range" min="0" max="255" value="0" id="megenta_range"
                        oninput="handelCMYK(this.value,'megenta')">
                    <span id="megenta">0</span>
                </div>
                <div class="d-flex align-items-center gap-2">
                    <span class="fw-medium">Yellow</span>
                    <input type="range" class="form-range" min="0" max="255" value="0" id="yellow_range"
                        oninput="handelCMYK(this.value,'yellow')">
                    <span id="yellow">0</span>
                </div>
                <div class="d-flex align-items-center gap-2">
                    <span class="fw-medium">Black</span>
                    <input type="range" class="form-range" min="0" max="255" value="0" id="black_range"
                        oninput="handelCMYK(this.value,'black')">
                    <span id="black">0</span>
                </div>
                <div class="text-center mt-3">
                    <span class="fw-medium">Opacity</span>
                    <input type="range" class="form-range" min="0.1" step="0.1" id="opacity_range"
                        oninput="handelCMYK(this.value,'opacity')" max="1" value="1">
                    <span id="opacity">0</span>
                </div>
            </div>
        </div>

        <div class="my-2">
            <p>OUTPUT VALUE : <span id="result"></span></p>
        </div>
        <button onclick="handleCopy()" class="btn btn-primary w-100">
            Copy Color Code <span class="bi bi-copy"></span>
        </button>
    </div>
</body>

</html>
